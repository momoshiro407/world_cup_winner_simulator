# world_cup_winner_simulator
W杯に参加する32ヶ国のイロレーティング の値によって各試合の勝利確率を計算し、模擬的に大会を進行して優勝国を決定する。

## 入力
`data`ディレクトリに参加国名、レート情報をまとめたjsonファイルを置く。

### groups_teams.json
```
  "groups": [
    {
      "name": "Group A",
      "teams": [
        {
          "name": "Qatar",
          "rate": 1664
        },
        {
          "name": "Ecuador",
          "rate": 1840
        },
        {
          "name": "Senegal",
          "rate": 1687
        },
        {
          "name": "Netherlands",
          "rate": 2040
        }
      ]
    },
:
```

## 実行
`python main.py`で実行する。<br>
試行総数（1〜1000回）を入力してシミュレーションを開始する。

## 出力ファイル
`result`ディレクトリにシミュレーション結果などの各種ファイルが出力される。

### group_information.csv
各グループリーグ 、チームの情報
```
チームNo, グループNo, チーム名, レート
```

例
```
1,1,Qatar,1664
2,1,Ecuador,1840
3,1,Senegal,1687
4,1,Netherlands,2040
5,2,England,1920
6,2,Iran,1817
7,2,United States,1798
8,2,Wales,1790
:
```

### league_match_result.csv
グループリーグ戦の成績
```
試行回
グループNo, チームNo, 勝点
```

例
```
1
1,1,3
1,2,9
1,3,1
1,4,4
2,5,5
2,6,1
2,7,3
2,8,5
:

2
1,1,3
1,2,4
1,3,7
1,4,3
:
```


### tournament_result.csv
決勝トーナメントの成績
```
試行回
1回戦に参加するチームのNo
2回戦に参加するチームのNo
3回戦（準決勝）に参加するチームのNo
4回戦（決勝）に参加するチームのNo
優勝チームのNo
```

例
```
1
2,8,9,15,17,24,25,29,4,5,12,14,18,21,26,31
8,9,17,25,4,12,21,26
9,17,4,21
17,4
17

2
3,8,11,16,17,24,25,29,2,7,9,15,19,21,27,31
8,11,24,29,2,9,21,27
8,24,9,21
24,9
9
:

```

### match_history.csv
チーム別の対戦履歴
```
試行回
チームNo, 履歴（"相手チームのNo, 自分の勝利確率, 引き分けの確率, 結果"の順で対戦回数分1行に出力）
```

例
```
1
1,2,0.14796629758619262,0.2368,0,3,0.31412360611555895,0.30565,3,4,0.029590473622726973,0.1468,0
2,1,0.6152337024138073,0.2368,3,3,0.5834002948085409,0.24715,3,4,0.1272530733520421,0.226,3,8,0.4247131174083814,0.2935,1
3,1,0.380226393884441,0.30565,0,2,0.16944970519145908,0.24715,0,4,0.037305643661586396,0.15715,1
4,1,0.823609526377273,0.1468,3,2,0.646746926647958,0.226,0,3,0.8055443563384135,0.15715,1,5,0.5351394245831221,0.262,3,12,0.6847731027972381,0.21205000000000002,1,21,0.3669483330511455,0.30925,3,17,0.33592991829094865,0.31375000000000003,0
:

2
1,2,0.14796629758619262,0.2368,0,3,0.31412360611555895,0.30565,0,4,0.029590473622726973,0.1468,3
2,1,0.6152337024138073,0.2368,3,3,0.5834002948085409,0.24715,1,4,0.1272530733520421,0.226,0,7,0.41160014523190286,0.29710000000000003,1,9,0.059968148157253806,0.18055000000000002,0
3,1,0.380226393884441,0.30565,3,2,0.16944970519145908,0.24715,1,4,0.037305643661586396,0.15715,3,8,0.22114114617770733,0.26965,0
4,1,0.823609526377273,0.1468,0,2,0.646746926647958,0.226,3,3,0.8055443563384135,0.15715,0
```
